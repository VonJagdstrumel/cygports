#!/usr/bin/env bash

cd "$(dirname "$0")/.." || exit
readonly temp_setup=$(mktemp)

if type -P curl; then
    curl -o "$temp_setup" https://cygwin.com/setup-x86_64.exe
elif type -P wget; then
    wget -O "$temp_setup" https://cygwin.com/setup-x86_64.exe
else
    exit 1
fi

awk '{print "-P "$0}' | \
    xargs "$temp_setup" -B -q -d -s https://ftp.fau.de/cygwin/ -s https://vonjagdstrumel.github.io/cygports/dist/ -K https://vonjagdstrumel.github.io/cygports/dist/pubring.gpg -R cygwin
rm -f "$temp_setup"
